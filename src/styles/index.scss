@use './reset';

@tailwind base;
@tailwind components;
@tailwind utilities;

.transparent-input .el-input__wrapper.is-focus,
.transparent-input .el-input__wrapper:hover,
.transparent-input .el-input__wrapper {
  box-shadow: none !important;
}

.transparent-input .el-input__wrapper {
  background-color: transparent !important;
}

.transparent-input .el-textarea__inner {
  box-shadow: none !important;
}

.transparent-input .el-button:hover {
  color: #fff !important;
  background-color: var(--el-color-primary) !important;
}

.transparent-input .el-input-group__append {
  @apply absolute -right-1 z-10 !bg-transparent !shadow-none;

  .summarize-button {
    @apply rounded-md !bg-neutral-200 dark:!bg-neutral-800;
  }

  .button-shortcut {
    @apply h-6 leading-6 px-2;
  }
}

.transparent-input .el-select__wrapper {
  background-color: transparent !important;
  box-shadow: none !important;
}

.transparent-input .el-select__wrapper.is-focused {
  box-shadow: none !important;
}

// 配置css
.summarize-container {
  @apply flex-1 w-full h-full overflow-hidden;
}

.summarize-section {
  @apply flex justify-between items-center mt-5 first:!mt-1 border-b border-panel;
}

.summarize-label {
  @apply flex flex-col gap-1 mb-1 text-sm font-bold text-content;

  .summarize-label-title {
    @apply text-sm text-panel font-medium;
  }

  .summarize-label-desc {
    @apply flex text-xs text-content font-thin;
  }
}

.summarize-input-wrapper {
  @apply relative flex items-center justify-end gap-4;

  .summarize-input {
    @apply w-56;
  }
}

.summarize-input-wrapper .el-input__wrapper {
  @apply relative;
}

.summarize-input {
  @apply bg-content rounded-md;
}

.summarize-button {
  @apply rounded-md;
}

// 快捷键设置
.summarize-input-wrapper .el-input__suffix {
  position: absolute;
  left: 10px;
}

.summarize-input-wrapper .el-input__suffix .label {
  display: flex;
  font-size: 14px;
  font-weight: normal;
  color: var(--categories-text-color);
  pointer-events: none;
}

.summarize-input-wrapper .label-char {
  transition: 0.2s ease all;
  transition-delay: calc(var(--index) * 0.05s);
}

.summarize-input-wrapper
  .el-input__inner:focus
  + .el-input__suffix
  label
  .label-char,
.summarize-input-wrapper
  .el-input__inner:valid
  + .el-input__suffix
  label
  .label-char {
  font-size: 14px;
  transform: translateY(-20px);
}

.summarize-input-wrapper
  .el-input__inner:valid
  + .el-input__suffix
  .summarize-button {
  display: block;
}

.category-management {
  @apply border rounded-md dark:border-panel !w-[300px];
}

// 自定义message
.el-message {
  --el-message-padding: 10px 15px !important;

  border-radius: 6px !important;

  .el-message__content {
    @apply text-xs !text-panel;
  }
}

// 分类修改
.category-edit .el-message-box__container {
  @apply w-full !inline-block px-4;
}

.category-management {
  @apply mx-10 mb-2 !w-52;
}

.message-footer {
  @apply flex justify-end gap-2 mt-2;
}

// ============================================
// 深色下拉框弹出层样式（用于深色背景页面）
// 使用方式: popper-class="dark-select-popper"
// ============================================
.dark-select-popper.el-popper {
  --el-bg-color-overlay: rgb(30 30 50);
  --el-fill-color-blank: rgb(30 30 50);
  --el-fill-color-light: rgb(93 109 253 / 15%);
  --el-text-color-regular: rgb(200 200 220);
  --el-border-color-light: rgb(75 85 99);

  background: rgb(30 30 50) !important;
  background-color: rgb(30 30 50) !important;
  border: 1px solid rgb(75 85 99) !important;
  border-radius: 8px !important;

  .el-select-dropdown,
  .el-scrollbar,
  .el-scrollbar__wrap,
  .el-scrollbar__view,
  .el-select-dropdown__wrap,
  .el-select-dropdown__list {
    background: rgb(30 30 50) !important;
    background-color: rgb(30 30 50) !important;
  }

  .el-select-dropdown__item {
    color: rgb(200 200 220) !important;
    background: transparent !important;

    &:hover,
    &.hover {
      background: rgb(93 109 253 / 15%) !important;
    }

    &.is-selected,
    &.selected {
      color: #fff !important;
      background: rgb(93 109 253 / 25%) !important;
      font-weight: 500;
    }
  }

  .el-popper__arrow::before {
    background: rgb(30 30 50) !important;
    border-color: rgb(75 85 99) !important;
  }
}

// ============================================
// 深色输入框样式（用于深色背景页面）
// ============================================
.dark-input {
  .el-input__wrapper,
  .el-select__wrapper {
    background: rgb(255 255 255 / 8%) !important;
    box-shadow: none !important;
    border: 1px solid rgb(75 85 99) !important;
    border-radius: 8px;

    &:hover {
      border-color: rgb(93 109 253) !important;
      background: rgb(255 255 255 / 12%) !important;
    }

    &.is-focus,
    &.is-focused {
      border-color: rgb(93 109 253) !important;
      box-shadow: 0 0 0 2px rgb(93 109 253 / 25%) !important;
      background: rgb(255 255 255 / 12%) !important;
    }
  }

  .el-input__inner {
    color: #fff !important;
    font-size: 14px;

    &::placeholder {
      color: rgb(156 163 175) !important;
    }
  }

  .el-input__suffix,
  .el-select__suffix {
    color: rgb(156 163 175) !important;
  }
}
