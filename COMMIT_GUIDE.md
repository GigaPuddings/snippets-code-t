# Git æäº¤å’Œå‘å¸ƒæŒ‡å—

## æœ¬æ¬¡ä¿®æ”¹å†…å®¹æ€»ç»“

### ä¿®æ”¹çš„æ–‡ä»¶

#### æ–°å¢æ–‡ä»¶
1. `src/utils/url.ts` - URL å·¥å…·å‡½æ•°æ¨¡å—
2. `src/utils/text.ts` - æ–‡æœ¬å¤„ç†å·¥å…·æ¨¡å—
3. `src/utils/format.ts` - æ ¼å¼åŒ–å·¥å…·æ¨¡å—
4. `UTILS_MIGRATION_SUMMARY.md` - å·¥å…·å‡½æ•°è¿ç§»æ€»ç»“æ–‡æ¡£

#### ä¿®æ”¹çš„æ–‡ä»¶
1. `src/utils/index.ts` - æ·»åŠ æ–°æ¨¡å—çš„å¯¼å‡º
2. `src/hooks/useSearch.ts` - æ·»åŠ  URL æ™ºèƒ½è¯†åˆ«åŠŸèƒ½ï¼Œä½¿ç”¨æ–°çš„å·¥å…·å‡½æ•°
3. `src/pages/search/components/Result.vue` - ä½¿ç”¨æ–°çš„æ–‡æœ¬å¤„ç†å·¥å…·å‡½æ•°
4. `src/pages/translate/index.vue` - ä½¿ç”¨æ–°çš„æ–‡æœ¬å¤„ç†å·¥å…·å‡½æ•°
5. `src/pages/update/index.vue` - ä½¿ç”¨æ–°çš„æ ¼å¼åŒ–å·¥å…·å‡½æ•°
6. `RELEASE_NOTES.md` - æ›´æ–°å‘å¸ƒè¯´æ˜

---

## Git æäº¤æ­¥éª¤

### 1. æŸ¥çœ‹ä¿®æ”¹çŠ¶æ€

```bash
git status
```

### 2. æ·»åŠ ä¿®æ”¹çš„æ–‡ä»¶

```bash
# æ·»åŠ æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶
git add .

# æˆ–è€…åˆ†åˆ«æ·»åŠ 
git add src/utils/url.ts
git add src/utils/text.ts
git add src/utils/format.ts
git add src/utils/index.ts
git add src/hooks/useSearch.ts
git add src/pages/search/components/Result.vue
git add src/pages/translate/index.vue
git add src/pages/update/index.vue
git add RELEASE_NOTES.md
git add UTILS_MIGRATION_SUMMARY.md
```

### 3. æäº¤ä¿®æ”¹

æ ¹æ®é¡¹ç›®ä½¿ç”¨ commitizenï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
npm run commit
```

æˆ–è€…ç›´æ¥ä½¿ç”¨ git commitï¼š

```bash
git commit -m "feat: æ·»åŠ æ™ºèƒ½ URL è¯†åˆ«åŠŸèƒ½å¹¶é‡æ„å·¥å…·å‡½æ•°

ğŸ‰ æ–°å¢åŠŸèƒ½ï¼š
- æœç´¢çª—å£æ”¯æŒæ™ºèƒ½ URL è¯†åˆ«ï¼Œè¾“å…¥ç½‘å€æ—¶ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
- æ”¯æŒå¤šç§ URL æ ¼å¼ï¼šå®Œæ•´ URLã€åŸŸåã€localhostã€IP åœ°å€ç­‰

ğŸ› é—®é¢˜ä¿®å¤ï¼š
- ä¿®å¤ç”Ÿäº§ç¯å¢ƒæœç´¢çª—å£è¾“å…¥ç½‘å€æ—¶æ— ç»“æœçš„é—®é¢˜

ğŸ”§ ä¼˜åŒ–æ”¹è¿›ï¼š
- é‡æ„å·¥å…·å‡½æ•°ï¼šå°†åˆ†æ•£åœ¨å„é¡µé¢çš„å·¥å…·å‡½æ•°ç»Ÿä¸€è¿ç§»åˆ° utils ç›®å½•
- æ–°å¢ URL å¤„ç†å·¥å…·æ¨¡å—ï¼ˆurl.tsï¼‰
- æ–°å¢æ–‡æœ¬å¤„ç†å·¥å…·æ¨¡å—ï¼ˆtext.tsï¼‰
- æ–°å¢æ ¼å¼åŒ–å·¥å…·æ¨¡å—ï¼ˆformat.tsï¼‰
- ä¼˜åŒ–æœç´¢ä¼˜å…ˆçº§ï¼šURL æ£€æµ‹ â†’ æœç´¢å¼•æ“å¿«æ·æ–¹å¼ â†’ æœ¬åœ°å†…å®¹ â†’ é»˜è®¤æœç´¢å¼•æ“
- æ”¹è¿›ä»£ç å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæ‰€æœ‰å·¥å…·å‡½æ•°æ³¨é‡Šä½¿ç”¨ä¸­æ–‡"
```

### 4. æ¨é€åˆ°è¿œç¨‹ä»“åº“

```bash
git push origin main
```

æˆ–è€…æ¨é€åˆ°ä½ çš„åˆ†æ”¯ï¼š

```bash
git push origin <your-branch-name>
```

---

## å‘å¸ƒæ‰“åŒ…æ­¥éª¤

### æ–¹å¼ä¸€ï¼šä½¿ç”¨é¡¹ç›®è„šæœ¬ï¼ˆæ¨èï¼‰

#### 1. æ›´æ–°ç‰ˆæœ¬å·

ç¼–è¾‘ `package.json` å’Œ `src-tauri/tauri.conf.json`ï¼Œå°†ç‰ˆæœ¬å·ä» `1.3.5` æ›´æ–°ä¸º `1.3.6`ï¼ˆæˆ–å…¶ä»–ç‰ˆæœ¬ï¼‰

```bash
# package.json
"version": "1.3.6"

# src-tauri/tauri.conf.json
"version": "1.3.6"
```

#### 2. æ ¼å¼åŒ–å‘å¸ƒè¯´æ˜

```bash
npm run release-notes
```

è¿™ä¼šæ ¼å¼åŒ– `RELEASE_NOTES.md` çš„å†…å®¹ã€‚

#### 3. åˆ›å»º Git æ ‡ç­¾

```bash
npm run tag
```

è¿™ä¼šè‡ªåŠ¨åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾å¹¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚

#### 4. æ„å»ºåº”ç”¨

```bash
npm run build
npm run tauri build
```

#### 5. ä¸Šä¼ èµ„æºï¼ˆå¦‚æœé…ç½®äº†ï¼‰

```bash
npm run upload-assets
```

---

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨æ‰“åŒ…

#### 1. å®‰è£…ä¾èµ–ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

```bash
npm install
```

#### 2. æ„å»ºå‰ç«¯

```bash
npm run build
```

#### 3. æ„å»º Tauri åº”ç”¨

```bash
npm run tauri build
```

æ„å»ºå®Œæˆåï¼Œå®‰è£…åŒ…ä¼šåœ¨ä»¥ä¸‹ç›®å½•ï¼š
- Windows: `src-tauri/target/release/bundle/`
- macOS: `src-tauri/target/release/bundle/dmg/`
- Linux: `src-tauri/target/release/bundle/`

---

## ç‰ˆæœ¬å‘å¸ƒæµç¨‹ï¼ˆå®Œæ•´ï¼‰

### 1. ç¡®è®¤æ‰€æœ‰ä¿®æ”¹å·²æäº¤

```bash
git status
```

### 2. æ›´æ–°ç‰ˆæœ¬å·

æ‰‹åŠ¨ç¼–è¾‘ä»¥ä¸‹æ–‡ä»¶ï¼š
- `package.json` â†’ `"version": "1.3.6"`
- `src-tauri/tauri.conf.json` â†’ `"version": "1.3.6"`
- `src-tauri/Cargo.toml` â†’ `version = "1.3.6"`

### 3. æäº¤ç‰ˆæœ¬å·æ›´æ”¹

```bash
git add package.json src-tauri/tauri.conf.json src-tauri/Cargo.toml
git commit -m "chore: bump version to 1.3.6"
```

### 4. åˆ›å»º Git æ ‡ç­¾

```bash
git tag -a v1.3.6 -m "Release v1.3.6

ğŸ‰ æ–°å¢åŠŸèƒ½ï¼š
- æœç´¢çª—å£æ”¯æŒæ™ºèƒ½ URL è¯†åˆ«

ğŸ› é—®é¢˜ä¿®å¤ï¼š
- ä¿®å¤ç”Ÿäº§ç¯å¢ƒæœç´¢çª—å£è¾“å…¥ç½‘å€æ—¶æ— ç»“æœçš„é—®é¢˜

ğŸ”§ ä¼˜åŒ–æ”¹è¿›ï¼š
- é‡æ„å·¥å…·å‡½æ•°ï¼Œæé«˜ä»£ç å¤ç”¨æ€§"
```

### 5. æ¨é€æ ‡ç­¾

```bash
git push origin v1.3.6
```

### 6. æ„å»ºå‘å¸ƒç‰ˆæœ¬

```bash
npm run build
npm run tauri build
```

### 7. åˆ›å»º GitHub Releaseï¼ˆå¦‚æœä½¿ç”¨ GitHubï¼‰

1. è®¿é—® GitHub ä»“åº“çš„ Releases é¡µé¢
2. ç‚¹å‡» "Draft a new release"
3. é€‰æ‹©åˆšåˆ›å»ºçš„æ ‡ç­¾ `v1.3.6`
4. å¡«å†™å‘å¸ƒè¯´æ˜ï¼ˆä» RELEASE_NOTES.md å¤åˆ¶ï¼‰
5. ä¸Šä¼ æ„å»ºå¥½çš„å®‰è£…åŒ…
6. å‘å¸ƒ

---

## æäº¤ä¿¡æ¯è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ Conventional Commits è§„èŒƒï¼š

### ç±»å‹ï¼ˆTypeï¼‰
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œï¼‰
- `refactor`: é‡æ„ï¼ˆæ—¢ä¸æ˜¯æ–°åŠŸèƒ½ä¹Ÿä¸æ˜¯ä¿®å¤ bugï¼‰
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

### æ ¼å¼
```
<type>(<scope>): <subject>

<body>

<footer>
```

### ç¤ºä¾‹
```bash
feat(search): æ·»åŠ æ™ºèƒ½ URL è¯†åˆ«åŠŸèƒ½

- æ”¯æŒå¤šç§ URL æ ¼å¼æ£€æµ‹
- è‡ªåŠ¨åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ URL
- ä¼˜åŒ–æœç´¢ä¼˜å…ˆçº§

Closes #123
```

---

## æ³¨æ„äº‹é¡¹

1. **æäº¤å‰æ£€æŸ¥**
   - è¿è¡Œ `npm run build` ç¡®ä¿æ²¡æœ‰ç¼–è¯‘é”™è¯¯
   - æ£€æŸ¥ TypeScript ç±»å‹é”™è¯¯
   - ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

2. **ç‰ˆæœ¬å·è§„åˆ™**
   - ä¸»ç‰ˆæœ¬å·ï¼ˆMajorï¼‰ï¼šä¸å…¼å®¹çš„ API ä¿®æ”¹
   - æ¬¡ç‰ˆæœ¬å·ï¼ˆMinorï¼‰ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
   - ä¿®è®¢å·ï¼ˆPatchï¼‰ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

3. **å‘å¸ƒè¯´æ˜**
   - ä½¿ç”¨æ¸…æ™°çš„ä¸­æ–‡æè¿°
   - æŒ‰ç±»å‹åˆ†ç»„ï¼ˆæ–°å¢åŠŸèƒ½ã€é—®é¢˜ä¿®å¤ã€ä¼˜åŒ–æ”¹è¿›ï¼‰
   - çªå‡ºé‡è¦å˜æ›´

4. **æ ‡ç­¾å‘½å**
   - ä½¿ç”¨ `v` å‰ç¼€ï¼š`v1.3.6`
   - ä¸ package.json ç‰ˆæœ¬å·ä¿æŒä¸€è‡´

---

## å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# æŸ¥çœ‹çŠ¶æ€
git status

# æ·»åŠ æ‰€æœ‰ä¿®æ”¹
git add .

# æäº¤ï¼ˆä½¿ç”¨ commitizenï¼‰
npm run commit

# æäº¤ï¼ˆç›´æ¥ï¼‰
git commit -m "feat: æè¿°"

# æ¨é€
git push origin main

# æ„å»º
npm run build
npm run tauri build

# åˆ›å»ºæ ‡ç­¾
git tag -a v1.3.6 -m "Release v1.3.6"
git push origin v1.3.6

# æ ¼å¼åŒ–å‘å¸ƒè¯´æ˜
npm run release-notes

# è‡ªåŠ¨åˆ›å»ºæ ‡ç­¾
npm run tag
```

---

## æœ¬æ¬¡æäº¤å»ºè®®

åŸºäºå½“å‰çš„ä¿®æ”¹å†…å®¹ï¼Œå»ºè®®ä½¿ç”¨ä»¥ä¸‹æäº¤ä¿¡æ¯ï¼š

### Git æäº¤ä¿¡æ¯ï¼ˆå¼€å‘è€…ç‰ˆæœ¬ï¼‰

```bash
feat: æ·»åŠ æ™ºèƒ½ URL è¯†åˆ«åŠŸèƒ½å¹¶é‡æ„å·¥å…·å‡½æ•°

- æ–°å¢ URL æ™ºèƒ½è¯†åˆ«ï¼šæ”¯æŒå¤šç§æ ¼å¼çš„ç½‘å€æ£€æµ‹å’Œè‡ªåŠ¨æ‰“å¼€
- é‡æ„å·¥å…·å‡½æ•°ï¼šç»Ÿä¸€è¿ç§»åˆ° utils ç›®å½•ï¼Œæé«˜ä»£ç å¤ç”¨æ€§
- æ–°å¢ url.tsã€text.tsã€format.ts å·¥å…·æ¨¡å—
- ä¼˜åŒ–æœç´¢ä¼˜å…ˆçº§é€»è¾‘
- ä¿®å¤ç”Ÿäº§ç¯å¢ƒæœç´¢ç½‘å€æ— ç»“æœçš„é—®é¢˜

æŠ€æœ¯ç»†èŠ‚ï¼š
- æ–°å¢ isURL() å’Œ normalizeURL() å‡½æ•°
- æå– extractPlainText()ã€escapeHtml()ã€highlightText() ç­‰æ–‡æœ¬å¤„ç†å‡½æ•°
- æå– formatBytes()ã€formatPercentage() æ ¼å¼åŒ–å‡½æ•°
- æ›´æ–° useSearch.tsã€Result.vueã€translate/index.vueã€update/index.vue
- æ‰€æœ‰å·¥å…·å‡½æ•°æ³¨é‡Šä½¿ç”¨ä¸­æ–‡

BREAKING CHANGE: highlightText å‡½æ•°ç­¾åå·²æ›´æ–°ï¼Œç°åœ¨éœ€è¦ä¼ é€’ query å‚æ•°
```

### ç”¨æˆ·æ›´æ–°æ—¥å¿—ï¼ˆRELEASE_NOTES.mdï¼‰

```markdown
ğŸ‰ æ–°å¢åŠŸèƒ½ï¼š
- æœç´¢æ¡†ç°åœ¨å¯ä»¥æ™ºèƒ½è¯†åˆ«ç½‘å€ï¼Œè¾“å…¥ç½‘å€åæŒ‰å›è½¦ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œæ— éœ€å†é€šè¿‡æœç´¢å¼•æ“æœç´¢
- æ”¯æŒå¤šç§ç½‘å€æ ¼å¼ï¼šå®Œæ•´ç½‘å€ï¼ˆhttps://github.comï¼‰ã€ç®€çŸ­åŸŸåï¼ˆgithub.comï¼‰ã€æœ¬åœ°åœ°å€ï¼ˆlocalhost:3000ï¼‰ç­‰

ğŸ› é—®é¢˜ä¿®å¤ï¼š
- ä¿®å¤æœç´¢æ¡†è¾“å…¥ç½‘å€æ—¶æ— æ³•æ˜¾ç¤ºç»“æœçš„é—®é¢˜

ğŸ”§ ä¼˜åŒ–æ”¹è¿›ï¼š
- ä¼˜åŒ–æœç´¢ä½“éªŒï¼Œæ™ºèƒ½åˆ¤æ–­è¾“å…¥å†…å®¹ç±»å‹ï¼Œæä¾›æ›´å‡†ç¡®çš„æœç´¢ç»“æœ
- æ”¹è¿›ä»£ç ç»“æ„ï¼Œæå‡åº”ç”¨æ€§èƒ½å’Œç¨³å®šæ€§
```

